<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  xmlns:vm="clr-namespace:AvaTerminal3.ViewModels.DBG"
  x:DataType="vm:DBGViewModel"
  x:Class="AvaTerminal3.Views.DBG.DBGPage"
  Title="Debug">

  <ScrollView>
    <VerticalStackLayout Padding="20" Spacing="20">

      <!-- Log File Location -->
      <Label Text="Log File Location"
        FontAttributes="Bold"
        FontSize="Medium" />
      <Entry Text="{Binding LogPath}"
        IsReadOnly="True"
        BackgroundColor="LightGray"
        TextColor="{AppThemeBinding Light=Black, Dark=Black}"
        HeightRequest="44" />
      <HorizontalStackLayout Spacing="10">
        <Button Text="ðŸ—‘ Delete"
          Command="{Binding DeleteLogCommand}"
          BackgroundColor="#ffdddd"
          TextColor="Red"
          CornerRadius="6"
          HeightRequest="44" />
        <Button Text="ðŸ“‹ View"
          Command="{Binding ViewLogCommand}"
          BackgroundColor="#ddddff"
          TextColor="Blue"
          CornerRadius="6"
          HeightRequest="44" />
        <Button Text="ðŸ“„ Copy Log Path"
          Command="{Binding CopyLogPathCommand}"
          BackgroundColor="#ddffdd"
          TextColor="Green"
          CornerRadius="6"
          HeightRequest="44" />
      </HorizontalStackLayout>

      <!-- Separator -->
      <BoxView HeightRequest="1" BackgroundColor="Gray" />

      <!-- Dump File Location -->
      <Label Text="Dump File Location"
        FontAttributes="Bold"
        FontSize="Medium" />
      <Entry Text="{Binding DumpPath}"
        IsReadOnly="True"
        BackgroundColor="LightGray"
        TextColor="{AppThemeBinding Light=Black, Dark=Black}"
        HeightRequest="44" />
      <HorizontalStackLayout Spacing="10">
        <Button Text="ðŸ—‘ Delete"
          Command="{Binding DeleteDumpCommand}"
          BackgroundColor="#ffdddd"
          TextColor="Red"
          CornerRadius="6"
          HeightRequest="44" />
        <Button Text="ðŸ“‹ View"
          Command="{Binding ViewDumpCommand}"
          BackgroundColor="#ddddff"
          TextColor="Blue"
          CornerRadius="6"
          HeightRequest="44" />
        <Button Text="ðŸ“„ Copy Dump Path"
          Command="{Binding CopyDumpPathCommand}"
          BackgroundColor="#ddffdd"
          TextColor="Green"
          CornerRadius="6"
          HeightRequest="44" />
      </HorizontalStackLayout>

      <BoxView HeightRequest="1" BackgroundColor="Gray" />


      <!-- Show spinner while checking -->
      <ActivityIndicator
        IsRunning="{Binding IsCheckingApi}"
        IsVisible="{Binding IsCheckingApi}"
        HeightRequest="30"
        HorizontalOptions="Center" />
      <!-- Once done, show status text in a readonly Entry -->
<Grid
  ColumnDefinitions="*,*"
  ColumnSpacing="10"
  HorizontalOptions="Fill">

  <VerticalStackLayout Grid.Column="0" Spacing="4">
    <Label
      Text="API Health Check"
      FontAttributes="Bold"
      FontSize="Medium" />
    <Entry
      Text="{Binding ApiStatusText}"
      IsReadOnly="True"
      BackgroundColor="LightGray"
      TextColor="{AppThemeBinding Light=Black, Dark=Black}"
      HeightRequest="44"
      HorizontalOptions="Fill" />
  </VerticalStackLayout>

  <VerticalStackLayout Grid.Column="1" Spacing="4">
    <Label
      Text="API Version"
      FontAttributes="Bold"
      FontSize="Medium" />
    <Entry
      Text="{Binding ApiVersionText}"
      BackgroundColor="LightGray"
      TextColor="{AppThemeBinding Light=Black, Dark=Black}"
      HeightRequest="44"
      HorizontalOptions="Fill" />
  </VerticalStackLayout>

</Grid>




      <BoxView HeightRequest="1" BackgroundColor="Gray" />

      <!-- Status Message -->
      <Label Text="Status Message"
        FontAttributes="Bold"
        FontSize="Medium" />

      <Label Text="{Binding StatusMessage}"
        IsVisible="{Binding HasStatusMessage}"
        BackgroundColor="#eeeeee"
        TextColor="{AppThemeBinding Light=Black, Dark=Black}"
        Padding="8"
        HeightRequest="44"
        HorizontalOptions="Fill" />

    </VerticalStackLayout>
  </ScrollView>
</ContentPage>